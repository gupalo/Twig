``reduce``
==========

Фильтр ``reduce`` итеративно уменьшает последовательность или отображение до одного
значения с помощью функции стрелки, чтобы свести его к единому значению. Функция стрелки
получает значение предыдущей итерации, текущее
значение и ключ последовательности или отображения:

.. code-block:: twig

    {% set numbers = [1, 2, 3] %}

    {{ numbers|reduce((carry, v, k) => carry + v * k) }}
    {# вывод 8 #}

Фильтр ``reduce`` принимает ``начальное`` значение как второй аргумент:

.. code-block:: twig

    {{ numbers|reduce((carry, v, k) => carry + v * k, 10) }}
    {# вывод 18 #}

Обратите внимание, что функция стрелки имеет доступ к текущему контексту.

Аргументы
---------

* ``arrow``: Функция стрелки
* ``initial``: Изначальное значение

.. note::

    Внутренне Twig использует PHP-функцию `array_reduce`_.

.. _`array_reduce`: https://www.php.net/array_reduce
