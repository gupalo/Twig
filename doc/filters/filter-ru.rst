``filter``
==========

Фильтр ``filter`` фильтрует элементы последовательности или отображения с помощью функции стрелки. Функция стрелки получает значение последовательности или отображения:

.. code-block:: twig

    {% set sizes = [34, 36, 38, 40, 42] %}

    {{ sizes|filter(v => v > 38)|join(', ') }}
    {# вывод 40, 42 #}

В сочетании с тегом ``for`` он позволяет отфильтровать элементы для итерации:

.. code-block:: twig

    {% for v in sizes|filter(v => v > 38) -%}
        {{ v }}
    {% endfor %}
    {# вывод 40 42 #}

Также это работает с отображениями:

.. code-block:: twig

    {% set sizes = {
        xs: 34,
        s:  36,
        m:  38,
        l:  40,
        xl: 42,
    } %}

    {% for k, v in sizes|filter(v => v > 38) -%}
        {{ k }} = {{ v }}
    {% endfor %}
    {# вывод l = 40 xl = 42 #}

Функция стрелки также получает ключ в качестве второго аргумента:

.. code-block:: twig

    {% for k, v in sizes|filter((v, k) => v > 38 and k != "xl") -%}
        {{ k }} = {{ v }}
    {% endfor %}
    {# вывод l = 40 #}

Обратите внимание, что функция стрелки имеет доступ к текущему контексту.

Аргументы
---------

* ``array``: Последовательность или отображение
* ``arrow``: Функция стрелки
