Стандарты написания кода
========================

.. note::

    `Инструмент Twig CS fixer <https://github.com/VincentLanglet/Twig-CS-Fixer>`_
    использует стандарты написания кода, описанные в этом документе, для автоматического
    исправления ваших шаблонов.

При написании шаблонов Twig мы рекомендуем вам придерживаться следующих официальных стандартов написания кода:

* Ставить ровно один пробел после начала разделителя (``{{``, ``{%``,
  и ``{#``) и перед концом разделителя (``}}``, ``%}`` и ``#}``):

  .. code-block:: twig

    {{ foo }}
    {# комментарий #}
    {% if foo %}{% endif %}

  Используя символ управления пробелами, не ставьте пробелов между ним и разделителем:

  .. code-block:: twig

    {{- foo -}}
    {#- комментарий -#}
    {%- if foo -%}{%- endif -%}

* Перед и после следующих операторов следует ставить ровно один пробел: операторы сравнения
  (``==``, ``!=``, ``<``, ``>``, ``>=``, ``<=``), математические операторы (``+``, ``-``, 
  ``/``, ``*``, ``%``, ``//``, ``**``), логические операторы (``not``, ``and``, ``or``), 
  ``~``, ``is``, ``in`` и троичный оператор (``?:``):

  .. code-block:: twig

     {{ 1 + 2 }}
     {{ foo ~ bar }}
     {{ true ? true : false }}

* Ставьте ровно один пробел после знака ``:`` в отображениях и ``,`` в последовательностях и отображениях:

  .. code-block:: twig

     {{ [1, 2, 3] }}
     {{ {'foo': 'bar'} }}

* Не ставьте пробелов после открывающей скобки и перед закрывающей скобкой в выражениях:

  .. code-block:: twig

    {{ 1 + (2 * 3) }}

* Не ставьте пробелов до и после разделителей строк:

  .. code-block:: twig

    {{ 'foo' }}
    {{ "foo" }}

* Не ставьте пробелов до и после следующих операторов: ``|``,
  ``.``, ``..``, ``[]``:

  .. code-block:: twig

    {{ foo|upper|lower }}
    {{ user.name }}
    {{ user[name] }}
    {% for i in 1..12 %}{% endfor %}

* Не ставьте пробелов до и после скобок, используемых для вызовов фильтров и функций:

  .. code-block:: twig

     {{ foo|default('foo') }}
     {{ range(1..10) }}

* Не ставьте пробелов до и после открытия и закрытия последовательностей и отображений:

  .. code-block:: twig

     {{ [1, 2, 3] }}
     {{ {'foo': 'bar'} }}

* Используйте имена переменных в нижнем регистре и с подчеркиваниями:

  .. code-block:: twig

     {% set foo = 'foo' %}
     {% set foo_bar = 'foo' %}

* Делайте отступ у кода внутри тегов (используйте тот же отступ, что и
  в целевом языке отображаемого шаблона):

  .. code-block:: twig

     {% block foo %}
         {% if true %}
             true
         {% endif %}
     {% endblock %}

* Используйте ``:`` вместо ``=``, чтобы разделить имена и значения аргументов:

  .. code-block:: twig

     {{ data|convert_encoding(from: 'iso-2022-jp', to: 'UTF-8') }}
