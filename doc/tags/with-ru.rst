``with``
========

Используйте тег ``with`` для создания новой внутренней области видимости. Переменные,
определенные в этой области видимости невидимы за ее пределами:

.. code-block:: twig

    {% with %}
        {% set foo = 42 %}
        {{ foo }} {# foo is 42 here #}
    {% endwith %}
    foo is not visible here any longer

Вместо определения переменных в начале области видимости, вы можете передать
отображение переменных, которые вы хотите определить, в тег ``with``; предыдущий пример
эквивалентен следующему:

.. code-block:: twig

    {% with {foo: 42} %}
        {{ foo }} {# foo is 42 here #}
    {% endwith %}
    foo is not visible here any longer

    {# работает с любым выражением, которое приводит к отображению #}
    {% set vars = {foo: 42} %}
    {% with vars %}
        ...
    {% endwith %}

По умолчанию, внутренняя область видимости имеет доступ к контексту внешней области видимости; вы можете
отключить это поведение, добавив ключевое слово ``only``:

.. code-block:: twig

    {% set bar = 'bar' %}
    {% with {foo: 42} only %}
        {# определен только foo #}
        {# bar не определен #}
    {% endwith %}
